<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">  
  <title>Hero Example</title> 
  <link rel='stylesheet' href='css/portfolio-main.css' />
  <link rel='stylesheet' href='css/landing.css' />
  <link rel='stylesheet' href='css/hero.css' />
  <link rel='stylesheet' href='css/media-queries.css' />
</head>

<body>

<main>

    <!-- Hero Image -->
    <section class='landing'>  

        <div class='background scroll' data-rate='0.4' data-transform='scale(1.2)'></div>

        <!-- <div class='foreground'> -->
            <div class='gradient-up animate'></div>
                    
            <div class='gradient-line'></div>
            <div class='nav-carousel'>            
                <ul>
                    <li data-index=0></li>
                    <li data-index=1></li>
                    <li data-index=2></li>
                    <!-- <li></li>
                    <li></li> -->
            </div>

            <div class='gradient-down animate'></div>

            <div class='logo'>
                <div class='git-page-logo-hack'></div>
                <!-- <img src='/img/hero/logo.png'/> -->
                <!-- <img src='https://aspenpeakstudios.github.io/Microanimations/Microanimations/img/hero/logo.png'/> -->
            </div>

            <div class='nav-menu'>
                <ul>
                    <li>About</li>
                    <li>Projects</li>
                    <li>Work</li>
                    <li>Contact</li>
                <ul>
            </div>

            <div class='profession'>
                Full Stack | UI Developer | Designer
            </div>
        <!-- </div> -->
    </section>

    <!-- About -->
    <section class='about'>   
        <!-- TEXT -->
        <div class='intro'>     
            <p>Hi, I'm John</p>
            
            <p>
                For over two decades I have used my software development and design skills to help companies reach their goals.
                I take work seriously and make sure projects succeed. 
                I can lead.
                I can be led.
                I like to mentor but am humble enough to recognize everyone can teach me something.  
                Mountains and Code is a combination of some of my professional work and some of my outside interests.  
                Thanks for being here and I hope you enjoy it.
            </p>
        </div>
        
        <!-- Divider -->
        <div>
            <div class='slant'><div><span>Full Stack Developer</span><span>Pretty Outdoorsy</span></div></div>
        </div>

        <!-- OPTIONAL IDEA -- ONLY SHOW ONE IMAGE -->

        <div class='diagonal-rects'>
            <!-- Row 1 -->
            <div class='row1'>               
                <div class='about-image image1'></div> 
                <div class='about-image image2'></div> 
                <div class='about-image image3'></div>
            </div>       
            <!-- Row 2  -->
            <div class='row2'>
                <div class='about-image image4'></div>
                <div class='about-image image5'></div>
                <!-- <div class='image6'></div>
                <div class='image7'></div> -->
            </div>

            <!-- Diagonal Shadow -->
            <!-- <div class='row3'></div> -->
            <!-- Row 1 -->
            <!-- <div class='row1' style='width: 100%; background-color: white'>               
                <div class='image1'><img src='/img/hero/huckleberry-lookout.jpg'/></div> 
                <div class='image2'><img src='/img/hero/whitefish.jpg'/></div> 
                <div class='image3'><img src='/img/hero/lakemcdonald.jpg'/></div>
            </div>        -->
            <!-- Row 2  -->
            <!-- <div class='row2' style='width: 100%; background-color: white'>
                <div class='image4'><img src='/img/hero/huckleberry-lookout.jpg'/></div>
                <div class='image5'><img src='/img/hero/whitefish.jpg'/></div>
            </div> -->
        </div>

        <!-- Decorative Gradient -->
       <div class='diagonal-filler'></div> 
        
    </section>

    <!-- Projets -->
    <section>Projects</section>

    <!-- Work -->
    <section>Work History</section>

    <!-- Contact -->
    <section>Contact</section>

</main>
</body>


<!-- JAVASCRIPT -->
<script src="/js/hero.js"></script>
<script src="/Microanimations/js/hero.js"></script>
<script>

    // EFFECT 1:  FUNKY BACKGROUND MOVE EFFECT
    const el = document.querySelector('.landing'); 
    const backgroundEl = document.querySelector('.background'); 
    const DAMPER = 90;  
    const MAX_VALUE = 5;

    let startX = -1;
    let startY = -1;

    // Animate the background image and decorative dashed lines
    el.addEventListener('mousemove', (function(e) {        
        var amountMovedX = (e.pageX * 1 / DAMPER);  
        // if (amountMovedX > MAX_VALUE)  amountMovedX = MAX_VALUE ; 
        // if (amountMovedX < -MAX_VALUE) amountMovedX = -MAX_VALUE ;
        
        var amountMovedY = (e.pageY * 1 / DAMPER);
        // if (amountMovedY > MAX_VALUE)  amountMovedY = MAX_VALUE ; 
        // if (amountMovedY < -MAX_VALUE) amountMovedY = -MAX_VALUE ;
        // var amountMovedX = (e.movementX * 1 / DAMPER);
        // var amountMovedY = (e.movementY * 1 / DAMPER);

        //backgroundEl.style.backgroundPosition =  amountMovedX + 'px ' + amountMovedY + 'px';

        //console.log("1: ", backgroundEl.style.backgroundPosition);
        // let currentPosition = window.getComputedStyle(backgroundEl).getPropertyValue("background-position").split(' ');        
        // if (startX == -1 && startY == -1) {
        //     startX = parseFloat(currentPosition[0].toString().replace('px', ''));    
        //     startY = parseFloat(currentPosition[1].toString().replace('px', ''));   
        //     //console.log("Got start positions: ", startX, startY);         
        // }
        
                           
        //let x = parseFloat(currentPosition[0].toString().replace('px', ''));
        let x = startX + amountMovedX;
        //let y = parseFloat(currentPosition[1].toString().replace('px', ''));
        let y = startY + amountMovedY;  
        
        window.setTimeout(() =>{
            //console.log(currentPosition, amountMovedX, amountMovedY, x, y);
            backgroundEl.style.backgroundPosition =  x + 'px ' + y + 'px';
        }, 0);
        

        // Update the pseudo selector animation
        let gradientUpEl = document.querySelector('.gradient-up');    
        gradientUpEl.style.backgroundPosition = 'right ' + amountMovedX * 75 + 'px';
        
        let gradientDownEl = document.querySelector('.gradient-down');
        gradientDownEl.style.backgroundPosition = 'right ' + amountMovedY * 75 + 'px';
    }));
    // animate the decorative dashed lines when section has focus
    // el.addEventListener('mouseover', (function(e) {        
    //     let gradientUpEl = document.querySelector('.gradient-up');    
    //     let gradientDownEl = document.querySelector('.gradient-down');
    //     gradientUpEl.classList.add('animate');
    //     gradientDownEl.classList.add('animate');
    // }));
    // // save resources by stopping animation when section no longer has focus
    el.addEventListener('mouseleave', (function(e) {        
        let gradientUpEl = document.querySelector('.gradient-up');    
        let gradientDownEl = document.querySelector('.gradient-down');
        gradientUpEl.classList.remove('animate');
        gradientDownEl.classList.remove('animate');
    }));
    

    

    // EFFECT 2:  Image Carousel
    const backgrounds = ['huckleberry-lookout.jpg', 'whitefish.jpg', 'lakemcdonald.jpg'];
    const carouselEls = document.querySelectorAll('.nav-carousel li');
    //console.log("Carousel Els: ", carouselEls);
    carouselEls.forEach((item) => {        
        item.addEventListener('click', () => {
            let index = item.dataset.index;
            console.log("Index: ", index, backgrounds[index], backgroundEl);
            if (index) {      
                backgroundEl.classList.remove('fade-in');
                backgroundEl.classList.add('fade-out');
                window.setTimeout(() => {
                    // remove previous
                    backgroundEl.classList.remove('background-1');
                    backgroundEl.classList.remove('background-2');
                    backgroundEl.classList.remove('background-3');

                    backgroundEl.classList.add(`background-${index}`);
                    // backgroundEl.style.background = "url('../img/hero/" + backgrounds[index] + "')";
                    // backgroundEl.style.backgroundSize = "cover";
                    // backgroundEl.style.backgroundRepeat = "no-repeat";
                    // console.log('New background setting: ', backgroundEl.style.background);
                    backgroundEl.classList.remove('fade-out');
                    backgroundEl.classList.add('fade-in');
                }, 600);                                 
            }
            else {
                console.error("No index found on this link");
            }
        })
    });


    
    // EFFECT 3:  PARALAXX

    // window.addEventListener('scroll', () => {
    //     const target = document.querySelectorAll('.scroll');
        
    //     // // Save off the initial transform
    //     // target.forEach((scrollEl) => {
    //     //     const initialTransform = scrollEl.style.transform;
    //     //     // Save it into the dataset
    //     //     scrollEl.dataset.initialTransform = initialTransform;
    //     // });

    //     var index = 0; length = target.length;
    //     for (0; index < target.length; index++) {
    //         let current = target[index];
    //         var pos = window.pageYOffset * current.dataset.rate;            
        
    //         //const move = 'scale(1.2) translate3d(0px, '+pos+'px, 0px)';   
    //         //const move = 'translate3d(0px, '+pos+'px, 0px)';              
            
    //         //console.log(target.dataset.transform);
    //         const initialTransform = (current.dataset.transform != undefined) ? current.dataset.transform + " " : "";
    //         const move = initialTransform + 'translate3d(0px, '+pos+'px, 0px)';              
    //         current.style.transform = move;             
    //     }
    // });



</script>


</html>