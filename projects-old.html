<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">  
  <title>Page Template</title> 
  <link rel='stylesheet' href='css/global.css' />  
  <link rel='stylesheet' href='css/portfolio-main.css' />  
  <link rel='stylesheet' href='js/components/pageSegments/pageSegments.css' />  
  <link rel='stylesheet' href='css/media-queries.css' />
</head>

<body>
<main>

<section class='detail-page'>

    <!-- Link to Home -->
    <div class='home-link' title='home' onclick='handleHomeClick()'></div>

    <!-- Full width Image with Text Overlay -->
    <!-- <div class='segment p40'>
        <div class='image-full-width grid-center'>
            <img src='./img/hero/hero-whitefish.jpg'></img>                        
            <div class='text-container grid-center'>
                <h1 class='text-overlay'>Image Overlay</h1>               
            </div>
        </div>
    </div> -->
</section>

</main>
</body>

<script src="js/components/pageSegments/pageSegments.js"></script>
<script src="/Microanimations/js/components/pageSegments/pageSegments.js"></script> 

<script>
    console.log("page loaded");

    // Update the URL
    //history.pushState({}, "", "../projects/nightlight");
    var hash = window.location.hash.substr(1);
    console.log("Hash: ", hash);


    const data = [
        {
            type: 0,
            classes: 'box-shadow-2', 
            image1: 'nightlight/beartooths.jpg', 
            text1: 'Sharing our experiences',
            text2: 'React, React Native, Remix, Postgres'
        }, 
        {
            type: 5,            
            text: [
                {
                    text: 'Our family likes to get out in nature and explore.',
                    classes: 'fs16',
                },            
                {text: 'For years we have been sharing our adventures with extended family through photos and video as a way to bring our loved ones along on the adventures when they otherwise can’t be with us. '},            
            ]            
        },               
        {
            type: 3, 
            image1: 'nightlight/huckleberry.jpg'
        },  
        {
            type: 5,
            heading: 'Motivation',
            text: [
                {text: 'My parents live 1500 miles away.  They have no idea where many of our photos are taking place and being almost 80, even if they were here, they aren’t going to tag along with us as we posthole through the snow to reach the top of a mountain, snag a few epic pics, eat a PB&J, and then head back down. '},
                {
                    text: 'My kids are getting older and are starting to spread their wings.  Sometimes I just want to know roughly where they are and then I don’t have to wonder.  Heck, sometimes I just want my family to know where I am.  If I flip my kayak offshore fishing in November, at least they know where to start looking.',
                    // image: 'nightlight/kayak.jpg'
                },
                {text: 'For years I have been searching for a mobile project that I would actually want to use.  I’ve worked on a few entry level projects in Xamarin and Android Studio but nothing really stuck.'},
                {text: 'Until now.'},
            ]            
        },   
        {
            type: 3, 
            image1: 'nightlight/craterlake-wizard-island1.webp'
        }, 
        // {
        //     type: 3, 
        //     image1: 'nightlight/craterlake-fine-dining.jpg'
        // }, 
        {
            type: 5,
            heading: 'Design Considerations',
            text: [
                {text: 'To capture the feeling of exploration I needed a breathtaking photograph to represent the app.  I chose sheer mountains with a thick layer of clouds about halfway up.  I wish I could claim credit for the photograph.  My wife is planning a trip to the Tour Du Monc Blanc in the near future so maybe I’ll get a chance to find its equal.'},            
            ]            
        },
        {
            type: 3, 
            classes: 'w50',
            image1: 'nightlight/adventuremap-login.jpg'
        },
        {
            type: 1,
            text1: 'The App needed to be lightweight, simple, and fast.  I already have a number of GPS apps for hiking and hunting but they run a bit slow on our mid-level devices.  I just need a screen with a map and some user markers. My kids always want to know our elevation, so overlay that on the map as well.'
        },  
        {
            type: 6, 
            classes: 'bg0',
            // heading: 'This is new section',
            content: [
                {
                    classes: '',
                    text: '',
                    image: 'nightlight/devices.webp',
                }
            ],            
        }, 
        // {
        //     type: 3, 
        //     classes: 'w85',
        //     image1: 'nightlight/devices.png'
        // },   
        {
            type: 5,
            heading: 'Architecture',
            text: [
                {text: 'For this project I needed a native app installed on our phones which connects to a cloudbased backend API with a postgres database.  Lately I’ve been using Remix.run for React projects.  It makes a great backend for the API and also provides a web front end for our extended family who want to see a map without having to install the native app.  Rather than use an existing authentication service I created my own for the App and Web Frontend using JWT tokens as a refresher in how basic authentication works.  The map data comes from Google Maps and Mapbox.'},            
            ]            
        },
        {
            type: 0,            
            image1: 'nightlight/badlands.webp',             
            text2: 'Annual pilgramage back from the Midwest'
        },        
        {
            type: 5,
            heading: 'Challenges I expected',
            text: [
                {text: 'One of the goals of this project was to learn.  I expect that on every project worth undertaking and particularly in the field of software development.  There was a lot of learning on this project.  The biggest unknown for me was I had never used React Native before.  I was happy to find it  complimented React and Web programming nicely and I couldn’t be happier with the mobile app development experience React Native provided.'},            
            ]            
        }, 
        {
            type: 5,
            heading: 'Challenges I didnt expect',
            classes: 'p-top-0',
            text: [
                {text: 'I love maps.  To me they represent opportunity for exploration, hold unknown potential, and are a recipe for excitement.  All of that, wrapped up in a two-dimensional usually well graphically-designed and glossy sheet of paper covering my kitchen table.  They are kind of like wrapped Christmas presents under the tree waiting to be opened.  I figured mapping would be the easy part of this project, and that’s where I went off course.'},            
                {text: 'I guess I assumed the project would follow this process:  Create an app.  Slap a map on a screen.  Poll for location data.  Store waypoints in database.  Display waypoints on the map.  Deploy to prod and Done.  The big question I didn’t anticipate is when do you poll for location data?  My user base lives in the same house as me which is great for testing, but bad when your users want to know why their phone batteries are dead in the morning.  There’s definitely a balance and compromises to be made with making location data practical.'},            
                {text: 'On the upside, this was the first software project in my career which caused me to go outside for testing.  Go for a hike (update every 100 yards).  Pick up kids from school (update every 1 mile).   Drive across the country (update every 5 miles).'},            
            ]            
        },
        {
            type: 3, 
            image1: 'nightlight/chairlift4.webp'
        }, 
        {
            type: 5,
            heading: 'Wrapping Up',
            text: [
                {text: 'Nightlight has been a fun project so far.  I learned a ton and built a useable system.  Because it’s relatively small it loads faster than our commercial mapping apps.  Generally if we want a quick map or want to know our elevation in the mountains, we flip open Nightlight.  Also extended family appreciates being able track our progress on long summer trips to see where all the family pictures are taking place. '},            
            ]            
        }, 
        {
            type: 0,            
            image1: 'nightlight/oregon-fishing.webp',             
            text2: 'Summer 2022'
        }, 
        // {
        //     type: 3, 
        //     image1: 'nightlight/oregon-fishing.webp'
        // }, 
    ];

    const page = document.querySelector('.detail-page');
    page.classList.add('loading-start');    
    document.querySelector('main').classList.add('loading');

    data.map((item) => {
        page.append(renderFactory(item));
    });

    setTimeout(() => {
        document.querySelector('main').classList.remove('loading');
        page.classList.add('loading-finished');
        page.classList.remove('loading-start');

        //document.querySelector('.slide-left').classList.add('visible');
        //document.querySelector('.slide-right').classList.add('visible');
    }, 100);

    function handleHomeClick() {
        // console.log("handle home click");

        // // Fade out screen
        // document.querySelector('body').classList.add('fade-out');

        // // TODO - FIX THIS!
        // // HACK FOR GITHUB PAGES
        // let destination = '';
        // if (location.protocol == "https:") {
        //     destination = '/Microanimations'
        // }       

        // // update window location
        // setTimeout(() =>{ 
        //     window.location = `${destination}/hero.html#projects`;
        // },750);

        navigateToPage('nightlight', 'hero.html#projects');   
    }


    // ---------------------------------------------------------
    // Intersection Observer
    // ---------------------------------------------------------

    // get all the elements we need to watch
    const targets = document.querySelectorAll('.scroll-target, .slide-left, .slide-right');
    if (targets.length > 0) {
        console.log("Targets: ", targets);
        // what to do with entries that are on screen
        function handleIntersection(entries) {
            entries.map((entry) => {
                if (entry.isIntersecting) {
                    console.log("On Screen: ", entry);
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                }
            });
        }
        // fire up the observer
        const observer = new IntersectionObserver(handleIntersection);
        targets.forEach((el) => {
            observer.observe(el);
        })
    }

</script>

</html>


<!-- DEAD CODE -->


   <!-- Full width Image with Text Overlay -->
    <!-- <div class='segment p40'>
        <div class='image-full-width grid-center'>
            <h1 class='text-overlay'>Field Time Entry<h1/>
        </div>
    </div> -->

    <!-- Centered Text Block -->
    <!-- <div class='segment p80 p-top-0'>
        <div class='text-block-half grid-center'>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p>            
        </div>
    </div> -->

    <!-- 2-1 Image collage -->
    <!-- <div class='segment'>
        <div class='image-collage-2-1'>
            <div class='one'></div>
            <div class='two'></div>
            <div class='three'></div>
        </div>
    </div> -->

    <!-- 2-1 Image collage -->
    <!-- <div class='segment'>
        <div class='image-grid-2-1'>
            <div class='grid-left'>            
                <div class='one'>One</div>
                <div class='two'>Two</div>
            </div>            
            <div class='three'>Three</div>            
        </div>
    </div> -->

     <!-- Centered Text Block -->
     <!-- <div class='segment p80'>
        <div class='text-block-half grid-center'>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p>            
        </div>
    </div> -->
       
    <!-- Full Width Image -->
    <!-- <div class='segment'>
        <div class='image-full-width grid-center'>          
        </div>
    </div> -->

     <!-- 2 text columns -->
     <!-- <div class='segment p80'>
        <div class='text-block-2'>
            <div class='text-block-half grid-center'>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                </p>            
            </div>
            <div class='text-block-half grid-center'>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                </p>            
            </div>
        </div>        
    </div> -->
